{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Coaches PDF</title>
  <style>
    @page {
      size: A4 landscape;
      margin: 25px;
    }
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      font-size: 11pt;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 10pt;
      page-break-inside: avoid;
    }
    th, td {
      padding: 6px 8px;
      border: 1px solid #ccc;
    }
    .page-break {
      page-break-after: always;
    }
  </style>
</head>
<body>

{% for page in pages %}
  <!-- üî∞ Logo and Header -->
  <div style="text-align: center;">
    <img src="{% static 'mfheader.png' %}" alt="Logo" style="width: 30%; max-width: 400px; height: auto; margin-top: 16px;">
    <h2 style="margin-top: 10px;">üßë‚Äçüè´ Coaches Summary Report</h2>
  </div>

  <table>
    <thead></thead>
    <tbody>
      {% for coach in page.object_list %}
      <tr style="background-color: {% if forloop.counter0|divisibleby:2 %}#ffffff{% else %}#f2f2f2{% endif %};">
        <td rowspan="2" style="width: 120px; text-align: center;">
          {% if coach.photo_link %}
            <img src="{{ coach.photo_link }}" alt="Coach Photo" style="max-width: 60px; height: auto;">
          {% else %}
            No Photo
          {% endif %}
        </td>
        <td style="border-bottom: none;"><strong>Name:</strong> {{ coach.coaches_name }}</td>
        <td style="border-bottom: none;"><strong>Address:</strong> {{ coach.coaches_address }}</td>
        <td style="border-bottom: none;"><strong>DOB:</strong> {{ coach.coaches_dob|date:"d/m/Y" }}</td>
        <td style="border-bottom: none;"><strong>Email:</strong> {{ coach.coaches_email }}</td>
        <td style="border-bottom: none;"><strong>BI #:</strong> {{ coach.coach_bi_number }}</td>
      </tr>
      <tr style="background-color: {% if forloop.counter0|divisibleby:2 %}#ffffff{% else %}#f2f2f2{% endif %}; font-size: 9pt;">
        <td colspan="5">
          <strong>FA:</strong> {{ coach.first_aid|yesno:"YES,NO" }} |
          <strong>GV:</strong> {{ coach.garda_vetting|yesno:"YES,NO" }} |
          <strong>SG1:</strong> {{ coach.safe_guarding_level_1|yesno:"YES,NO" }} |
          <strong>SG2:</strong> {{ coach.safe_guarding_level_2|yesno:"YES,NO" }} |
          <strong>SG3:</strong> {{ coach.safe_guarding_level_3|yesno:"YES,NO" }} |
          <strong>BI-L0:</strong> {{ coach.basketball_coaching_level_0|yesno:"YES,NO" }} |
          <strong>BI-L1:</strong> {{ coach.basketball_coaching_level_1|yesno:"YES,NO" }} |
          <strong>BI-L2:</strong> {{ coach.basketball_coaching_level_2|yesno:"YES,NO" }}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% if not forloop.last %}
    <div class="page-break"></div>
  {% endif %}
{% endfor %}

</body>
</html>